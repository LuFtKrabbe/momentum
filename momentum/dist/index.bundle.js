(()=>{var e={459:()=>{const e=[{title:"Aqua Caelestis",src:"https://raw.githubusercontent.com/LuFtKrabbe/stage1-tasks/momentum/assets/sounds/Aqua Caelestis.mp3",duration:"0:39",track:"0"},{title:"Ennio Morricone",src:"https://raw.githubusercontent.com/LuFtKrabbe/stage1-tasks/momentum/assets/sounds/Ennio Morricone.mp3",duration:"1:37",track:"1"},{title:"River Flows In You",src:"https://raw.githubusercontent.com/LuFtKrabbe/stage1-tasks/momentum/assets/sounds/River Flows In You.mp3",duration:"1:37",track:"2"},{title:"Summer Wind",src:"https://raw.githubusercontent.com/LuFtKrabbe/stage1-tasks/momentum/assets/sounds/Summer Wind.mp3",duration:"1:50",track:"3"}],t=new Audio,n=document.querySelector(".play-prev"),o=document.querySelector(".play"),a=document.querySelector(".play-next"),c=document.querySelector(".play-list"),r=document.querySelector(".player-music-name"),d=document.querySelector(".player-music-time-length"),l=document.querySelector(".player-timeline"),i=document.querySelector(".player-progress"),s=document.querySelector(".player-music-time-current"),u=document.querySelector(".player-volume-slider"),m=document.querySelector(".player-volume-percentage"),g=document.querySelector(".player-volume-button"),h=document.querySelector(".player-volume");let y=0,E=0;function p(){S()?(o.classList.remove("pause"),c.children[E].classList.remove("item-active"),t.pause(),clearInterval(y)):(f(),o.classList.add("pause"),c.children[E].classList.add("item-active"),t.src||(t.src=e[E].src),t.play(),y=setInterval(k,200))}function v(){f(),c.children[E].classList.remove("item-active"),E==e.length-1?E=0:E+=1,S()?(t.currentTime=0,t.src=e[E].src,p(),p()):(t.currentTime=0,t.src=e[E].src,p())}function S(){return o.classList.contains("pause")}function f(){d.textContent=e[E].duration,r.textContent=e[E].title}function k(){i.style.width=t.currentTime/t.duration*100+"%",s.textContent=function(e){let t=parseInt(e/60,10),n=parseInt(e-60*t,10);return`${t}:${String(n).padStart(2,0)}`}(t.currentTime)}t.volume=.75,e.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=e.title,c.append(t)})),document.querySelector("ul"),n.addEventListener("click",(function(){c.children[E].classList.remove("item-active"),f(),0==E?E=e.length-1:E-=1,S()?(t.currentTime=0,t.src=e[E].src,p(),p()):(t.currentTime=0,t.src=e[E].src,p())})),o.addEventListener("click",p),a.addEventListener("click",v),t.addEventListener("ended",v),l.addEventListener("click",(function(e){const n=window.getComputedStyle(l).width,o=e.offsetX/parseInt(n,10)*t.duration;t.currentTime=o,k()})),u.addEventListener("click",(function(e){const n=window.getComputedStyle(u).width,o=e.offsetX/parseInt(n,10);t.volume=o,m.style.width=100*t.volume+"%"})),g.addEventListener("click",(function(){t.muted?(h.classList.remove("icon-volume-none"),h.classList.add("icon-volume-medium"),t.muted=!1):(t.muted=!0,h.classList.remove("icon-volume-medium"),h.classList.add("icon-volume-none"))}))},785:()=>{const e=document.querySelector(".settings-server-api-container"),t=document.querySelector(".settings-tags-container"),n=document.querySelector("body"),o=new Image;let a=Math.floor(20*Math.random())+1;function c(){let e=[],t=[document.getElementById("morning"),document.getElementById("afternoon"),document.getElementById("evening"),document.getElementById("night"),document.getElementById("nature")];for(let n=0;n<t.length;n++)1==t[n].checked?(e.push(t[n].id),localStorage.setItem(t[n].id+"Tag",!0)):localStorage.setItem(t[n].id+"Tag",!1);return console.log(e),e}function r(){document.getElementById("github").checked&&(d(),t.classList.add("tags-hidden")),document.getElementById("unsplash").checked&&(l(),t.classList.remove("tags-hidden")),document.getElementById("flickr").checked&&(i(),t.classList.remove("tags-hidden"))}function d(){let e=String(a).padStart(2,"0");o.src="https://raw.githubusercontent.com/LuFtKrabbe/stage1-tasks/assets/images/"+function(){const e=(new Date).getHours();return["night","morning","afternoon","evening"][Math.floor(e/6)]}()+"/"+e+".jpg",o.addEventListener("load",(()=>{n.style.backgroundImage="url("+o.src+")"}))}async function l(){let e=c();0==e.length&&(e=["meal"]);let t=Math.floor(Math.random()*e.length);console.log(e[t]);let a=`orientation=landscape&query=${e[t]}&client_id=sxWmpqDDGplK86BYiFL5wrtlk4do6Qpk7wlXjlvTx4I`;const r=await fetch("https://api.unsplash.com/photos/random?"+a),d=await r.json();o.src=d.urls.regular,o.addEventListener("load",(()=>{n.style.backgroundImage="url("+o.src+")"}))}async function i(){let e=c();0==e.length&&(e=["meal"]);let t=Math.floor(Math.random()*e.length),a=e[t];console.log(e[t]);let r=`&api_key=f0b800bbf9777fa04c11bd5d8160cdca&tags=${a}&extras=url_l&format=json&nojsoncallback=1`;const d=await fetch("https://www.flickr.com/services/rest/?method=flickr.photos.search"+r),l=await d.json();let i=Math.floor(100*Math.random());o.src=l.photos.photo[i].url_l,o.addEventListener("load",(()=>{n.style.backgroundImage="url("+o.src+")"}))}e.addEventListener("change",r),e.addEventListener("change",(function(e){localStorage.setItem("imgReceiving",e.target.id)})),t.addEventListener("change",c),t.addEventListener("change",r),window.addEventListener("load",(function(){localStorage.getItem("imgReceiving")&&(document.getElementById(localStorage.getItem("imgReceiving")).checked=!0)})),window.addEventListener("load",(function(){let e=[document.getElementById("morning"),document.getElementById("afternoon"),document.getElementById("evening"),document.getElementById("night"),document.getElementById("nature")];for(let t=0;t<e.length;t++)"false"==localStorage.getItem(e[t].id+"Tag")&&(e[t].checked=!1)})),window.addEventListener("load",r);const s=document.querySelector(".slide-prev"),u=document.querySelector(".slide-next");s.addEventListener("click",(function(){github.checked&&(1==a?a=20:a-=1,d()),unsplash.checked&&l(),flickr.checked&&i()})),u.addEventListener("click",(function(){github.checked&&(20==a?a=1:a+=1,d()),unsplash.checked&&l(),flickr.checked&&i()}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}(()=>{"use strict";let e=f()??"РУС";const t=document.querySelector(".settings-language"),o=document.getElementById("ru"),a=document.getElementById("en"),c=(document.querySelector(".settings-tags-container"),document.getElementById("morning")),r=document.getElementById("afternoon"),d=document.getElementById("evening"),l=document.getElementById("night"),i=document.getElementById("nature"),s=document.querySelector(".settings-blocks-container"),u=document.getElementById("time"),m=document.getElementById("date"),g=document.getElementById("greeting"),h=document.getElementById("quote"),y=document.getElementById("weather"),E=document.getElementById("audio"),p=document.getElementById("todolist"),v=document.querySelector(".settings-app"),S=document.querySelector(".settings-container");function f(){localStorage.getItem("language")&&("РУС"==localStorage.getItem("language")&&(document.getElementById("ru").checked=!0),"ENG"==localStorage.getItem("language")&&(document.getElementById("en").checked=!0))}function k(){o.checked&&(e="РУС",c.parentElement.children[1].textContent="Утро",r.parentElement.children[1].textContent="День",d.parentElement.children[1].textContent="Вечер",l.parentElement.children[1].textContent="Ночь",i.parentElement.children[1].textContent="Природа",u.parentElement.children[1].textContent="Время",m.parentElement.children[1].textContent="Дата",g.parentElement.children[1].textContent="Приветствие",h.parentElement.children[1].textContent="Цитата",y.parentElement.children[1].textContent="Погода",E.parentElement.children[1].textContent="Аудио",p.parentElement.children[1].textContent="Дела"),a.checked&&(e="ENG",c.parentElement.children[1].textContent="Morning",r.parentElement.children[1].textContent="Afternoon",d.parentElement.children[1].textContent="Evening",l.parentElement.children[1].textContent="Night",i.parentElement.children[1].textContent="Nature",u.parentElement.children[1].textContent="Time",m.parentElement.children[1].textContent="Date",g.parentElement.children[1].textContent="Greeting",h.parentElement.children[1].textContent="Quote",y.parentElement.children[1].textContent="Weather",E.parentElement.children[1].textContent="Audio",p.parentElement.children[1].textContent="Todo")}function w(){const e=document.querySelector(".time"),t=document.querySelector(".date"),n=document.querySelector(".greeting-container"),o=document.querySelector(".quote"),a=document.querySelector(".change-quote"),c=document.querySelector(".author"),r=document.querySelector(".weather"),d=document.querySelector(".player");1==u.checked?e.classList.remove("time-hidden"):e.classList.add("time-hidden"),1==m.checked?t.classList.remove("date-hidden"):t.classList.add("date-hidden"),1==g.checked?n.classList.remove("greeting-hidden"):n.classList.add("greeting-hidden"),1==h.checked?(o.classList.remove("quote-hidden"),a.classList.remove("change-quote-hidden"),c.classList.remove("author-hidden")):(o.classList.add("quote-hidden"),a.classList.add("change-quote-hidden"),c.classList.add("author-hidden")),1==y.checked?r.classList.remove("weather-hidden"):r.classList.add("weather-hidden"),1==E.checked?d.classList.remove("player-hidden"):d.classList.add("player-hidden"),1==u.checked?localStorage.setItem("timeBlock",!0):localStorage.setItem("timeBlock",!1),1==m.checked?localStorage.setItem("dateBlock",!0):localStorage.setItem("dateBlock",!1),1==g.checked?localStorage.setItem("greetingBlock",!0):localStorage.setItem("greetingBlock",!1),1==h.checked?localStorage.setItem("quoteBlock",!0):localStorage.setItem("quoteBlock",!1),1==y.checked?localStorage.setItem("weatherBlock",!0):localStorage.setItem("weatherBlock",!1),1==E.checked?localStorage.setItem("audioBlock",!0):localStorage.setItem("audioBlock",!1)}v.addEventListener("click",(function(){S.classList.toggle("settings-container-hidden")})),t.addEventListener("change",k),t.addEventListener("change",(function(e){"ru"==e.target.id&&localStorage.setItem("language","РУС"),"en"==e.target.id&&localStorage.setItem("language","ENG")})),window.addEventListener("load",f),window.addEventListener("load",k),window.addEventListener("load",(function(){let e=[u,m,g,h,y,E];for(let t=0;t<e.length;t++)"false"==localStorage.getItem(e[t].id+"Block")&&(e[t].checked=!1)})),window.addEventListener("load",w),s.addEventListener("change",w),t.addEventListener("change",q),window.addEventListener("load",q),window.addEventListener("load",(function e(){const t=(new Date).toLocaleTimeString("ru-RU");L.textContent=t,setTimeout(e,1e3)}));const L=document.querySelector(".time"),I=document.querySelector(".date");function q(){let t="";"РУС"==e&&(t="ru-RU"),"ENG"==e&&(t="en-EN");const n=(new Date).toLocaleDateString(t,{weekday:"long",month:"long",day:"numeric"});I.textContent=n,setTimeout(q,1e3)}const x=document.querySelector(".greeting"),C=document.querySelector(".name");function b(){"РУС"==e&&(C.placeholder="[Введите имя]"),"ENG"==e&&(C.placeholder="[Enter name]")}function B(){const t=(new Date).getHours();x.textContent=function(){let n=Math.floor(t/6),o="";if("РУС"==e){switch(n){case 0:o="Доброй ночи";break;case 1:o="Доброе утро";break;case 2:o="Добрый день";break;case 3:o="Добрый вечер"}return o}if("ENG"==e){switch(n){case 0:o="Good night";break;case 1:o="Good morning";break;case 2:o="Good day";break;case 3:o="Good evening"}return o}}()+",",setTimeout(B,1e3)}window.addEventListener("beforeunload",(function(){localStorage.setItem("userName",C.value)})),window.addEventListener("load",(function(){localStorage.getItem("userName")&&(C.value=localStorage.getItem("userName"))})),t.addEventListener("change",b),t.addEventListener("change",B),b(),B(),n(785);const M=document.querySelector(".weather-icon"),N=document.querySelector(".temperature"),G=document.querySelector(".weather-description"),T=document.querySelector(".wind"),$=document.querySelector(".humidity"),j=document.querySelector(".city");function D(){localStorage.setItem("userCity",j.value)}async function F(){let t=`${j.value}`,n="";"РУС"==e&&(n="ru"),"ENG"==e&&(n="en");let o=`q=${t}&lang=${n}&appid=b7fa1d88682ed0bba42eee4bcdafb0d1&units=metric`,a=await fetch("https://api.openweathermap.org/data/2.5/weather?"+o),c=await a.json();a.ok?M.className="weather-icon owf":("РУС"==e&&alert("Населенный пункт не найден или в названии допущена ошибка"),"ENG"==e&&alert("Location not found or name misspelled"),j.value=localStorage.getItem("userCity")),M.classList.add(`owf-${c.weather[0].id}`),N.textContent=`${Math.round(c.main.temp)}°C`,G.textContent=c.weather[0].description,"РУС"==e&&(T.textContent=`Скорость ветра: ${Math.round(c.wind.speed)} м/с`,$.textContent=`Влажность: ${c.main.humidity}%`),"РУС"==e&&"Minsk"==j.value&&(j.value="Минск",localStorage.setItem("userCity",j.value)),"ENG"==e&&(T.textContent=`Wind speed: ${Math.round(c.wind.speed)} m/s`,$.textContent=`Humidity: ${c.main.humidity}%`),"ENG"==e&&"Минск"==j.value&&(j.value="Minsk",localStorage.setItem("userCity",j.value)),D()}window.addEventListener("beforeunload",D),window.addEventListener("load",(function(){localStorage.getItem("userCity")&&(j.value=localStorage.getItem("userCity"))})),window.addEventListener("load",F),j.addEventListener("change",F),t.addEventListener("change",F),localStorage.getItem("userCity")?j.value=localStorage.getItem("userCity"):("РУС"==e&&(j.value="Минск"),"ENG"==e&&(j.value="Minsk"));const R=document.querySelector(".quote"),A=document.querySelector(".author");async function K(){let t="";"РУС"==e&&(t="src/data.json"),"ENG"==e&&(t="src/dataEng.json");const n=await fetch(t),o=await n.json();let a=Math.floor(Math.random()*o.length),c=Math.floor(Math.random()*o.length);if(localStorage.getItem("quoteNumber")){for(a=localStorage.getItem("quoteNumber");a==c;)c=Math.floor(Math.random()*o.length);a=c,localStorage.setItem("quoteNumber",a)}else localStorage.setItem("quoteNumber",a);R.textContent=o[a].text,A.textContent=o[a].author}document.querySelector(".change-quote").addEventListener("click",K),t.addEventListener("change",K),window.addEventListener("load",K),n(459),console.log("Self-estimation of work:\n\nScore: 147 / 150\n\n- [x] Часы и календарь (15/15);\n\n- [x] Приветствие (10/10);\n\n- [x] Смена фонового изображения (20/20);\n\n- [x] Виджет погоды (15/15);\n\n- [x] Виджет цитата дня (10/10);\n\n- [x] Аудиоплеер (15/15);\n\n- [x] Продвинутый аудиоплеер (17/20);\n\n- [x] Перевод приложения на два языка [en/ru] (15/15);\n\n- [x] Получение фонового изображения от API (10/10);\n\n- [x] Настройки приложения (20/20);\n\n- [x] Дополнительный функционал на выбор (0/10).")})()})();